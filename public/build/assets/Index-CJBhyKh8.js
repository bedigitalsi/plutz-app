import{a as g,j as e,L as c,r as o,H as v,b as h}from"./app-BdDqc3cB.js";import{A as N}from"./AuthenticatedLayout-B7hEQ3i9.js";import{S as _}from"./StatusBadge-rg_ibsn8.js";import{u as z}from"./useTranslation-WO1u7QRH.js";import"./transition-D2mPo7cI.js";function w({inquiry:t}){const n=g().props.auth.user?.hide_prices,a=l=>new Date(l).toLocaleDateString("sl-SI",{year:"numeric",month:"long",day:"numeric"}),r=l=>l.includes("T")||l.includes(" ")?new Date(l).toLocaleTimeString("sl-SI",{hour:"2-digit",minute:"2-digit"}):l.substring(0,5);return e.jsx(c,{href:route("inquiries.show",t.id),className:"block rounded-xl border border-plutz-tan/10 bg-plutz-surface p-4 shadow-sm transition hover:border-plutz-tan/30",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-plutz-cream",children:t.location_name}),e.jsx(_,{status:t.status})]}),e.jsxs("div",{className:"space-y-1 text-sm text-stone-400",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-base text-stone-500",children:"calendar_today"}),e.jsx("span",{children:a(t.performance_date)}),t.performance_time_exact&&e.jsxs("span",{className:"text-stone-500",children:["at ",r(t.performance_time_exact)]}),t.performance_time_text&&e.jsxs("span",{className:"text-stone-500",children:["(",t.performance_time_text,")"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-base text-stone-500",children:"person"}),e.jsx("span",{children:t.contact_person})]}),t.performance_type&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-base text-stone-500",children:"music_note"}),e.jsx("span",{children:t.performance_type.name}),t.band_size&&e.jsxs("span",{className:"text-stone-500",children:["â€¢ ",t.band_size.label]})]}),!n&&t.price_amount&&e.jsxs("div",{className:"mt-2 text-base font-semibold text-plutz-cream",children:[t.price_amount," ",t.currency||"EUR"]})]})]}),e.jsx("span",{className:"material-symbols-outlined text-stone-500",children:"chevron_right"})]})})}function D({inquiries:t,filters:n}){const{t:a}=z(),[r,l]=o.useState(n.search||""),[i,u]=o.useState(n.status||""),[d,x]=o.useState(n.date_from||""),[m,p]=o.useState(n.date_to||""),f=()=>{const s={};r&&(s.search=r),i&&(s.status=i),d&&(s.date_from=d),m&&(s.date_to=m),h.get(route("inquiries.index"),s,{preserveState:!0})},j=()=>{l(""),u(""),x(""),p(""),h.get(route("inquiries.index"))};return e.jsxs(N,{className:"bg-plutz-dark",children:[e.jsx(v,{title:a("inquiries.title")}),e.jsx("div",{className:"max-w-[1200px] mx-auto w-full p-6 pb-0",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"text-2xl font-serif text-plutz-cream",children:a("inquiries.title")}),e.jsx(c,{href:route("inquiries.create"),className:"text-plutz-tan hover:text-plutz-tan-light text-sm font-medium",children:a("inquiries.new_inquiry")})]})}),e.jsxs("div",{className:"max-w-[1200px] mx-auto w-full p-6",children:[e.jsxs("div",{className:"mb-6 rounded-lg bg-plutz-surface p-4 shadow-sm",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-400",children:a("common.search")}),e.jsx("input",{type:"text",value:r,onChange:s=>l(s.target.value),placeholder:a("inquiries.search_placeholder"),className:"mt-1 block w-full rounded-md border-plutz-tan/20 shadow-sm focus:border-plutz-tan focus:ring-plutz-tan sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-400",children:a("common.status")}),e.jsxs("select",{value:i,onChange:s=>u(s.target.value),className:"mt-1 block w-full rounded-md border-plutz-tan/20 shadow-sm focus:border-plutz-tan focus:ring-plutz-tan sm:text-sm",children:[e.jsx("option",{value:"",children:a("inquiries.all")}),e.jsx("option",{value:"pending",children:a("inquiries.pending")}),e.jsx("option",{value:"confirmed",children:a("inquiries.confirmed")}),e.jsx("option",{value:"rejected",children:a("inquiries.rejected")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-400",children:a("inquiries.from_date")}),e.jsx("input",{type:"date",value:d,onChange:s=>x(s.target.value),className:"mt-1 block w-full rounded-md border-plutz-tan/20 shadow-sm focus:border-plutz-tan focus:ring-plutz-tan sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-400",children:a("inquiries.to_date")}),e.jsx("input",{type:"date",value:m,onChange:s=>p(s.target.value),className:"mt-1 block w-full rounded-md border-plutz-tan/20 shadow-sm focus:border-plutz-tan focus:ring-plutz-tan sm:text-sm"})]})]}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsx("button",{onClick:f,className:"rounded-md bg-plutz-tan px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-plutz-tan/90",children:a("inquiries.apply_filters")}),e.jsx("button",{onClick:j,className:"rounded-md bg-plutz-tan/20 px-4 py-2 text-sm font-semibold text-stone-400 hover:bg-plutz-tan/30",children:a("common.reset")})]})]}),t.data.length===0?e.jsxs("div",{className:"rounded-lg bg-plutz-surface p-8 text-center shadow-sm",children:[e.jsx("p",{className:"text-stone-500",children:a("inquiries.no_inquiries")}),e.jsx(c,{href:route("inquiries.create"),className:"mt-4 inline-block text-plutz-tan hover:text-plutz-tan",children:a("inquiries.create_first")})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.data.map(s=>e.jsx(w,{inquiry:s},s.id))}),t.last_page>1&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx("nav",{className:"flex gap-2",children:t.links.map((s,b)=>e.jsx(c,{href:s.url||"#",className:`rounded-md px-3 py-2 text-sm ${s.active?"bg-plutz-tan text-plutz-dark":"bg-plutz-surface text-stone-400 hover:bg-stone-900/50"} ${s.url?"":"cursor-not-allowed opacity-40"}`,dangerouslySetInnerHTML:{__html:s.label}},b))})})]})]})]})}export{D as default};
