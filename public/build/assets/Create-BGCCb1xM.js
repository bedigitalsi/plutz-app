import{u as _,r as h,j as e,H as f,L as l}from"./app-C8fq6srr.js";import{A as j}from"./AuthenticatedLayout-BNOKYISH.js";import{T as i,I as r}from"./TextInput-W3nS7tF_.js";import{I as m}from"./InputLabel-BMpQ-HSE.js";import{P as g}from"./PrimaryButton-B23donqi.js";import{M as v}from"./MoneyInput-Bfjo0D5S.js";import{u as b}from"./useTranslation-CciVO6Yc.js";import"./transition-Cu1kr6b5.js";function E({performanceTypes:d,inquiry:s}){const{t:a}=b(),{data:n,setData:o,post:u,processing:p,errors:c}=_({income_date:s?.performance_date||"",amount:s?.price_amount?.toString()||"",currency:s?.currency||"EUR",invoice_issued:!1,performance_type_id:s?.performance_type_id?.toString()||"",contact_person:s?.contact_person||"",notes:"",inquiry_id:s?.id?.toString()||""});h.useEffect(()=>{s&&o({...n,income_date:s.performance_date,amount:s.price_amount?.toString()||"",currency:s.currency,performance_type_id:s.performance_type_id?.toString(),contact_person:s.contact_person,inquiry_id:s.id.toString()})},[s]);const x=t=>{t.preventDefault(),u(route("incomes.store"))};return e.jsxs(j,{className:"bg-plutz-dark",children:[e.jsx(f,{title:a("incomes.new_income_page")}),e.jsx("div",{className:"max-w-[1200px] mx-auto w-full p-6 pb-0",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"text-2xl font-serif text-plutz-cream",children:a("incomes.new_income_page")}),e.jsx(l,{href:route("incomes.index"),className:"text-plutz-tan hover:text-plutz-tan-light text-sm font-medium",children:a("incomes.back_to_list")})]})}),e.jsxs("div",{className:"max-w-[1200px] mx-auto w-full p-6",children:[s&&e.jsx("div",{className:"mb-6 rounded-lg bg-plutz-tan/10 p-4",children:e.jsxs("p",{className:"text-sm text-plutz-tan",children:[e.jsx("strong",{children:a("incomes.creating_from_inquiry")})," ",s.location_name]})}),e.jsx("div",{className:"overflow-hidden bg-plutz-surface shadow-sm sm:rounded-lg",children:e.jsxs("form",{onSubmit:x,className:"space-y-6 p-6",children:[e.jsxs("div",{className:"border-b border-plutz-tan/10 pb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-plutz-cream",children:a("incomes.income_details")}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"income_date",value:a("incomes.income_date")}),e.jsx(i,{id:"income_date",type:"date",className:"mt-1 block w-full",value:n.income_date,onChange:t=>o("income_date",t.target.value),required:!0}),e.jsx(r,{message:c.income_date,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"performance_type_id",value:a("incomes.performance_type")+" *"}),e.jsxs("select",{id:"performance_type_id",className:"mt-1 block w-full rounded-md border-plutz-tan/20 shadow-sm focus:border-plutz-tan focus:ring-plutz-tan",value:n.performance_type_id,onChange:t=>o("performance_type_id",t.target.value),required:!0,children:[e.jsx("option",{value:"",children:a("incomes.select_type")}),d.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsx(r,{message:c.performance_type_id,className:"mt-2"})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx(v,{label:a("common.amount"),value:n.amount,onChange:t=>o("amount",t),currency:n.currency,error:c.amount,required:!0})}),e.jsxs("div",{className:"mt-4",children:[e.jsx(m,{htmlFor:"contact_person",value:a("incomes.contact_person")}),e.jsx(i,{id:"contact_person",type:"text",className:"mt-1 block w-full",value:n.contact_person,onChange:t=>o("contact_person",t.target.value),required:!0}),e.jsx(r,{message:c.contact_person,className:"mt-2"})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:n.invoice_issued,onChange:t=>o("invoice_issued",t.target.checked),className:"rounded border-plutz-tan/20 text-plutz-tan shadow-sm focus:ring-plutz-tan"}),e.jsx("span",{className:"ml-2 text-sm text-stone-400",children:a("incomes.invoice_issued_checkbox")})]})})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"notes",value:a("common.notes")}),e.jsx("textarea",{id:"notes",className:"mt-1 block w-full rounded-md border-plutz-tan/20 shadow-sm focus:border-plutz-tan focus:ring-plutz-tan",rows:4,value:n.notes,onChange:t=>o("notes",t.target.value)}),e.jsx(r,{message:c.notes,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[e.jsx(l,{href:route("incomes.index"),className:"text-sm text-stone-400 hover:text-plutz-cream",children:a("common.cancel")}),e.jsx(g,{disabled:p,children:a("incomes.create_income")})]})]})})]})]})}export{E as default};
