import{u as x,r as h,j as e,H as f,L as l}from"./app-BJc9Tm1D.js";import{A as j}from"./AuthenticatedLayout-DtotMtSK.js";import{T as m,I as o}from"./TextInput-C74EyNtM.js";import{I as c}from"./InputLabel-GFiCJOTr.js";import{P as _}from"./PrimaryButton-RZKOhaPJ.js";import{M as g}from"./MoneyInput-DKvoBFc5.js";import"./transition-9_ymNAk6.js";function C({performanceTypes:d,inquiry:s}){const{data:a,setData:r,post:i,processing:u,errors:n}=x({income_date:s?.performance_date||"",amount:s?.price_amount?.toString()||"",currency:s?.currency||"EUR",invoice_issued:!1,performance_type_id:s?.performance_type_id?.toString()||"",contact_person:s?.contact_person||"",notes:"",inquiry_id:s?.id?.toString()||""});h.useEffect(()=>{s&&r({...a,income_date:s.performance_date,amount:s.price_amount?.toString()||"",currency:s.currency,performance_type_id:s.performance_type_id?.toString(),contact_person:s.contact_person,inquiry_id:s.id.toString()})},[s]);const p=t=>{t.preventDefault(),i(route("incomes.store"))};return e.jsxs(j,{className:"bg-plutz-dark",children:[e.jsx(f,{title:"New Income"}),e.jsx("div",{className:"max-w-[1200px] mx-auto w-full p-6 pb-0",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"text-2xl font-serif text-plutz-cream",children:"New Income"}),e.jsx(l,{href:route("incomes.index"),className:"text-plutz-tan hover:text-plutz-tan-light text-sm font-medium",children:"Back to List"})]})}),e.jsxs("div",{className:"max-w-[1200px] mx-auto w-full p-6",children:[s&&e.jsx("div",{className:"mb-6 rounded-lg bg-plutz-tan/10 p-4",children:e.jsxs("p",{className:"text-sm text-plutz-tan",children:[e.jsx("strong",{children:"Creating income from inquiry:"})," ",s.location_name]})}),e.jsx("div",{className:"overflow-hidden bg-plutz-surface shadow-sm sm:rounded-lg",children:e.jsxs("form",{onSubmit:p,className:"space-y-6 p-6",children:[e.jsxs("div",{className:"border-b border-plutz-tan/10 pb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-plutz-cream",children:"Income Details"}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"income_date",value:"Income Date *"}),e.jsx(m,{id:"income_date",type:"date",className:"mt-1 block w-full",value:a.income_date,onChange:t=>r("income_date",t.target.value),required:!0}),e.jsx(o,{message:n.income_date,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"performance_type_id",value:"Performance Type *"}),e.jsxs("select",{id:"performance_type_id",className:"mt-1 block w-full rounded-md border-plutz-tan/20 shadow-sm focus:border-plutz-tan focus:ring-plutz-tan",value:a.performance_type_id,onChange:t=>r("performance_type_id",t.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select type..."}),d.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsx(o,{message:n.performance_type_id,className:"mt-2"})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx(g,{label:"Amount",value:a.amount,onChange:t=>r("amount",t),currency:a.currency,error:n.amount,required:!0})}),e.jsxs("div",{className:"mt-4",children:[e.jsx(c,{htmlFor:"contact_person",value:"Contact Person *"}),e.jsx(m,{id:"contact_person",type:"text",className:"mt-1 block w-full",value:a.contact_person,onChange:t=>r("contact_person",t.target.value),required:!0}),e.jsx(o,{message:n.contact_person,className:"mt-2"})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.invoice_issued,onChange:t=>r("invoice_issued",t.target.checked),className:"rounded border-plutz-tan/20 text-plutz-tan shadow-sm focus:ring-plutz-tan"}),e.jsx("span",{className:"ml-2 text-sm text-stone-400",children:"Invoice Issued"})]})})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"notes",value:"Notes"}),e.jsx("textarea",{id:"notes",className:"mt-1 block w-full rounded-md border-plutz-tan/20 shadow-sm focus:border-plutz-tan focus:ring-plutz-tan",rows:4,value:a.notes,onChange:t=>r("notes",t.target.value)}),e.jsx(o,{message:n.notes,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[e.jsx(l,{href:route("incomes.index"),className:"text-sm text-stone-400 hover:text-plutz-cream",children:"Cancel"}),e.jsx(_,{disabled:u,children:"Create Income"})]})]})})]})]})}export{C as default};
