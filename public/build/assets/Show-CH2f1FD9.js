import{a as h,j as e,H as p,L as c,b as l}from"./app-C4sHziNE.js";import{A as u}from"./AuthenticatedLayout-DCqWRLfr.js";import{S as j}from"./StatusBadge-BxvGF4LM.js";import{u as f}from"./useTranslation-B0ntzVMZ.js";import"./transition-BXWP2Hev.js";function z({inquiry:t}){const{t:s}=f(),m=h().props.auth,i=m.user?.hide_prices,r=m.permissions??[],a=d=>r.includes(d),o=d=>new Date(d).toLocaleDateString("sl-SI",{year:"numeric",month:"long",day:"numeric"}),n=d=>{confirm(`${s("inquiries.confirm_status_change")} ${d}?`)&&l.patch(route("inquiries.update-status",t.id),{status:d})},x=()=>{confirm(s("inquiries.confirm_delete"))&&l.delete(route("inquiries.destroy",t.id))};return e.jsxs(u,{className:"bg-plutz-dark",children:[e.jsx(p,{title:`Inquiry - ${t.location_name}`}),e.jsxs("div",{className:"max-w-[1200px] mx-auto w-full p-6",children:[e.jsx("div",{className:"mb-4",children:e.jsxs(c,{href:route("calendar.index",{month:t.performance_date?.substring(0,7)}),className:"inline-flex items-center gap-1.5 text-sm text-stone-400 hover:text-plutz-tan transition-colors group",children:[e.jsx("span",{className:"material-symbols-outlined text-lg group-hover:-translate-x-0.5 transition-transform",children:"arrow_back"}),s("calendar.title")]})}),e.jsx("div",{className:"mb-6 overflow-hidden rounded-lg bg-plutz-surface shadow-sm",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-plutz-cream",children:t.location_name}),e.jsx("p",{className:"mt-1 text-stone-400",children:t.contact_person})]}),e.jsx(j,{status:t.status})]}),(a("inquiries.edit")||a("inquiries.change_status")||a("income.create"))&&e.jsxs("div",{className:"mt-6 flex flex-wrap gap-2",children:[a("inquiries.edit")&&e.jsx(c,{href:route("inquiries.edit",t.id),className:"rounded-md bg-plutz-tan px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-plutz-tan/90",children:s("common.edit")}),a("inquiries.change_status")&&t.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>n("confirmed"),className:"rounded-md bg-green-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-green-500/100",children:s("inquiries.confirm_action")}),e.jsx("button",{onClick:()=>n("rejected"),className:"rounded-md bg-stone-700 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-stone-900/500",children:s("inquiries.reject")})]}),a("income.create")&&!t.income&&e.jsx(c,{href:`/incomes/create?inquiry_id=${t.id}`,className:"rounded-md bg-emerald-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-emerald-500",children:s("inquiries.create_income")}),a("inquiries.change_status")&&t.status!=="pending"&&e.jsx("button",{onClick:()=>n("pending"),className:"rounded-md bg-amber-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-amber-500",children:s("inquiries.set_pending")}),a("inquiries.edit")&&e.jsx("button",{onClick:x,className:"ml-auto rounded-md bg-red-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500/100",children:s("common.delete")})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"overflow-hidden rounded-lg bg-plutz-surface shadow-sm",children:[e.jsx("div",{className:"border-b border-plutz-tan/10 px-6 py-4",children:e.jsx("h4",{className:"text-lg font-medium text-plutz-cream",children:s("inquiries.performance_details")})}),e.jsx("div",{className:"p-6",children:e.jsxs("dl",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-stone-500",children:s("common.date")}),e.jsx("dd",{className:"mt-1 text-sm text-plutz-cream",children:o(t.performance_date)})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-stone-500",children:s("inquiries.time")}),e.jsx("dd",{className:"mt-1 text-sm text-plutz-cream",children:t.performance_time_mode==="exact_time"?t.performance_time_exact:t.performance_time_text||s("inquiries.not_specified")})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-stone-500",children:s("inquiries.duration")}),e.jsxs("dd",{className:"mt-1 text-sm text-plutz-cream",children:[t.duration_minutes," ",s("inquiries.minutes")]})]}),t.performance_type&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-stone-500",children:s("common.type")}),e.jsx("dd",{className:"mt-1 text-sm text-plutz-cream",children:t.performance_type.name})]}),t.band_size&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-stone-500",children:s("inquiries.band_size")}),e.jsx("dd",{className:"mt-1 text-sm text-plutz-cream",children:t.band_size.label})]})]})})]}),e.jsxs("div",{className:"overflow-hidden rounded-lg bg-plutz-surface shadow-sm",children:[e.jsx("div",{className:"border-b border-plutz-tan/10 px-6 py-4",children:e.jsx("h4",{className:"text-lg font-medium text-plutz-cream",children:s("inquiries.location")})}),e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"text-sm text-plutz-cream",children:t.location_name}),t.location_address&&e.jsx("p",{className:"mt-1 text-sm text-stone-400",children:t.location_address})]})]}),e.jsxs("div",{className:"overflow-hidden rounded-lg bg-plutz-surface shadow-sm",children:[e.jsx("div",{className:"border-b border-plutz-tan/10 px-6 py-4",children:e.jsx("h4",{className:"text-lg font-medium text-plutz-cream",children:s("inquiries.contact_information")})}),e.jsx("div",{className:"p-6",children:e.jsxs("dl",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-stone-500",children:s("common.name")}),e.jsx("dd",{className:"mt-1 text-sm text-plutz-cream",children:t.contact_person})]}),t.contact_email&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-stone-500",children:s("common.email")}),e.jsx("dd",{className:"mt-1 text-sm text-plutz-cream",children:e.jsx("a",{href:`mailto:${t.contact_email}`,className:"text-plutz-tan hover:text-plutz-tan",children:t.contact_email})})]}),t.contact_phone&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-stone-500",children:s("inquiries.phone")}),e.jsx("dd",{className:"mt-1 text-sm text-plutz-cream",children:e.jsx("a",{href:`tel:${t.contact_phone}`,className:"text-plutz-tan hover:text-plutz-tan",children:t.contact_phone})})]})]})})]}),!i&&t.price_amount&&e.jsxs("div",{className:"overflow-hidden rounded-lg bg-plutz-surface shadow-sm",children:[e.jsx("div",{className:"border-b border-plutz-tan/10 px-6 py-4",children:e.jsx("h4",{className:"text-lg font-medium text-plutz-cream",children:s("inquiries.price")})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("p",{className:"text-2xl font-bold text-plutz-cream",children:[t.price_amount," ",t.currency]}),t.income&&e.jsxs("p",{className:"mt-2 text-sm text-green-400",children:["âœ“ ",s("inquiries.payment_received")]})]})]}),t.notes&&e.jsxs("div",{className:"overflow-hidden rounded-lg bg-plutz-surface shadow-sm",children:[e.jsx("div",{className:"border-b border-plutz-tan/10 px-6 py-4",children:e.jsx("h4",{className:"text-lg font-medium text-plutz-cream",children:s("common.notes")})}),e.jsx("div",{className:"p-6",children:e.jsx("p",{className:"whitespace-pre-wrap text-sm text-stone-400",children:t.notes})})]})]})]})]})}export{z as default};
