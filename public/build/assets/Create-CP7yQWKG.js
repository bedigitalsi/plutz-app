import{u as p,r as g,j as e,H as h,L as d}from"./app-DzmAS_oz.js";import{A as f}from"./AuthenticatedLayout-iZAWnfa0.js";import{T as m,I as n}from"./TextInput-C94tWs1r.js";import{I as c}from"./InputLabel-Bokvtw8l.js";import{P as j}from"./PrimaryButton-DYn3vejL.js";import{M as _}from"./MoneyInput-CYJW-hJp.js";import"./transition-Bd1tV77w.js";function k({performanceTypes:i,inquiry:t}){const{data:a,setData:r,post:l,processing:x,errors:o}=p({income_date:t?.performance_date||"",amount:t?.price_amount?.toString()||"",currency:t?.currency||"EUR",invoice_issued:!1,performance_type_id:t?.performance_type_id?.toString()||"",contact_person:t?.contact_person||"",notes:"",inquiry_id:t?.id?.toString()||""});g.useEffect(()=>{t&&r({...a,income_date:t.performance_date,amount:t.price_amount?.toString()||"",currency:t.currency,performance_type_id:t.performance_type_id?.toString(),contact_person:t.contact_person,inquiry_id:t.id.toString()})},[t]);const u=s=>{s.preventDefault(),l(route("incomes.store"))};return e.jsxs(f,{header:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"New Income"}),e.jsx(d,{href:route("incomes.index"),className:"text-sm text-gray-600 hover:text-gray-900",children:"â† Back to List"})]}),children:[e.jsx(h,{title:"New Income"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"mx-auto max-w-3xl sm:px-6 lg:px-8",children:[t&&e.jsx("div",{className:"mb-6 rounded-lg bg-blue-50 p-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Creating income from inquiry:"})," ",t.location_name]})}),e.jsx("div",{className:"overflow-hidden bg-white shadow-sm sm:rounded-lg",children:e.jsxs("form",{onSubmit:u,className:"space-y-6 p-6",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Income Details"}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"income_date",value:"Income Date *"}),e.jsx(m,{id:"income_date",type:"date",className:"mt-1 block w-full",value:a.income_date,onChange:s=>r("income_date",s.target.value),required:!0}),e.jsx(n,{message:o.income_date,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"performance_type_id",value:"Performance Type *"}),e.jsxs("select",{id:"performance_type_id",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",value:a.performance_type_id,onChange:s=>r("performance_type_id",s.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select type..."}),i.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]}),e.jsx(n,{message:o.performance_type_id,className:"mt-2"})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx(_,{label:"Amount",value:a.amount,onChange:s=>r("amount",s),currency:a.currency,error:o.amount,required:!0})}),e.jsxs("div",{className:"mt-4",children:[e.jsx(c,{htmlFor:"contact_person",value:"Contact Person *"}),e.jsx(m,{id:"contact_person",type:"text",className:"mt-1 block w-full",value:a.contact_person,onChange:s=>r("contact_person",s.target.value),required:!0}),e.jsx(n,{message:o.contact_person,className:"mt-2"})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:a.invoice_issued,onChange:s=>r("invoice_issued",s.target.checked),className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Invoice Issued"})]})})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"notes",value:"Notes"}),e.jsx("textarea",{id:"notes",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",rows:4,value:a.notes,onChange:s=>r("notes",s.target.value)}),e.jsx(n,{message:o.notes,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[e.jsx(d,{href:route("incomes.index"),className:"text-sm text-gray-600 hover:text-gray-900",children:"Cancel"}),e.jsx(j,{disabled:x,children:"Create Income"})]})]})})]})})]})}export{k as default};
