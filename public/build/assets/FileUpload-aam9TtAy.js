import{r,j as e}from"./app-BE8jsWJZ.js";import{I as j}from"./InputLabel-BneFVO9h.js";import{I as b}from"./TextInput-CzWFFnbH.js";function k({label:i,accept:m="image/*,application/pdf",onChange:o,error:c,capture:x=!0}){const s=r.useRef(null),[u,l]=r.useState(null),[d,n]=r.useState(null),p=h=>{const t=h.target.files?.[0]||null;if(o(t),t)if(n(t.name),t.type.startsWith("image/")){const a=new FileReader;a.onloadend=()=>{l(a.result)},a.readAsDataURL(t)}else l(null);else n(null),l(null)},f=()=>{s.current&&(s.current.value=""),n(null),l(null),o(null)};return e.jsxs("div",{children:[i&&e.jsx(j,{value:i}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{ref:s,type:"file",accept:m,onChange:p,capture:x?"environment":void 0,className:"hidden"}),d?e.jsxs("div",{className:"rounded-xl border border-plutz-tan/10 bg-plutz-surface p-4",children:[u?e.jsx("div",{className:"mb-4",children:e.jsx("img",{src:u,alt:"Preview",className:"mx-auto max-h-48 rounded-lg"})}):e.jsx("div",{className:"mb-4 flex items-center justify-center",children:e.jsx("span",{className:"material-symbols-outlined text-stone-500 text-4xl",children:"description"})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-plutz-cream truncate",children:d}),e.jsx("button",{type:"button",onClick:f,className:"ml-4 text-sm text-red-400 hover:text-red-300",children:"Remove"})]})]}):e.jsxs("button",{type:"button",onClick:()=>s.current?.click(),className:"w-full rounded-xl border-2 border-dashed border-plutz-tan/20 p-6 text-center hover:border-plutz-tan/40 focus:outline-none focus:ring-2 focus:ring-plutz-tan focus:ring-offset-2 focus:ring-offset-plutz-dark bg-plutz-dark transition-colors",children:[e.jsx("span",{className:"material-symbols-outlined text-stone-500 text-4xl mx-auto block",children:"upload_file"}),e.jsx("p",{className:"mt-2 text-sm text-stone-400",children:"Click to upload or take a photo"}),e.jsx("p",{className:"mt-1 text-xs text-stone-500",children:"PNG, JPG, PDF up to 10MB"})]})]}),c&&e.jsx(b,{message:c,className:"mt-2"})]})}export{k as F};
