import{a as h,j as e,H as p,L as m,b as l}from"./app-BVGRn_v1.js";import{A as u}from"./AuthenticatedLayout-XZyMGDne.js";import{S as j}from"./StatusBadge-wMIt-mIQ.js";import{u as f}from"./useTranslation-D44QjFuf.js";import"./transition-d6l6AfQG.js";function z({inquiry:s}){const{t}=f(),c=h().props.auth,i=c.user?.hide_prices,r=c.permissions??[],a=d=>r.includes(d),o=d=>new Date(d).toLocaleDateString("sl-SI",{year:"numeric",month:"long",day:"numeric"}),n=d=>{confirm(`${t("inquiries.confirm_status_change")} ${d}?`)&&l.patch(route("inquiries.update-status",s.id),{status:d})},x=()=>{confirm(t("inquiries.confirm_delete"))&&l.delete(route("inquiries.destroy",s.id))};return e.jsxs(u,{className:"bg-plutz-dark",children:[e.jsx(p,{title:`Inquiry - ${s.location_name}`}),e.jsxs("div",{className:"max-w-[1200px] mx-auto w-full p-6",children:[e.jsx("div",{className:"mb-6 overflow-hidden rounded-lg bg-plutz-surface shadow-sm",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-plutz-cream",children:s.location_name}),e.jsx("p",{className:"mt-1 text-stone-400",children:s.contact_person})]}),e.jsx(j,{status:s.status})]}),(a("inquiries.edit")||a("inquiries.change_status")||a("income.create"))&&e.jsxs("div",{className:"mt-6 flex flex-wrap gap-2",children:[a("inquiries.edit")&&e.jsx(m,{href:route("inquiries.edit",s.id),className:"rounded-md bg-plutz-tan px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-plutz-tan/90",children:t("common.edit")}),a("inquiries.change_status")&&s.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>n("confirmed"),className:"rounded-md bg-green-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-green-500/100",children:t("inquiries.confirm_action")}),e.jsx("button",{onClick:()=>n("rejected"),className:"rounded-md bg-stone-700 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-stone-900/500",children:t("inquiries.reject")})]}),a("income.create")&&!s.income&&e.jsx(m,{href:`/incomes/create?inquiry_id=${s.id}`,className:"rounded-md bg-emerald-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-emerald-500",children:t("inquiries.create_income")}),a("inquiries.change_status")&&s.status!=="pending"&&e.jsx("button",{onClick:()=>n("pending"),className:"rounded-md bg-amber-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-amber-500",children:t("inquiries.set_pending")}),a("inquiries.edit")&&e.jsx("button",{onClick:x,className:"ml-auto rounded-md bg-red-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500/100",children:t("common.delete")})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"overflow-hidden rounded-lg bg-plutz-surface shadow-sm",children:[e.jsx("div",{className:"border-b border-plutz-tan/10 px-6 py-4",children:e.jsx("h4",{className:"text-lg font-medium text-plutz-cream",children:t("inquiries.performance_details")})}),e.jsx("div",{className:"p-6",children:e.jsxs("dl",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-stone-500",children:t("common.date")}),e.jsx("dd",{className:"mt-1 text-sm text-plutz-cream",children:o(s.performance_date)})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-stone-500",children:t("inquiries.time")}),e.jsx("dd",{className:"mt-1 text-sm text-plutz-cream",children:s.performance_time_mode==="exact_time"?s.performance_time_exact:s.performance_time_text||t("inquiries.not_specified")})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-stone-500",children:t("inquiries.duration")}),e.jsxs("dd",{className:"mt-1 text-sm text-plutz-cream",children:[s.duration_minutes," ",t("inquiries.minutes")]})]}),s.performance_type&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-stone-500",children:t("common.type")}),e.jsx("dd",{className:"mt-1 text-sm text-plutz-cream",children:s.performance_type.name})]}),s.band_size&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-stone-500",children:t("inquiries.band_size")}),e.jsx("dd",{className:"mt-1 text-sm text-plutz-cream",children:s.band_size.label})]})]})})]}),e.jsxs("div",{className:"overflow-hidden rounded-lg bg-plutz-surface shadow-sm",children:[e.jsx("div",{className:"border-b border-plutz-tan/10 px-6 py-4",children:e.jsx("h4",{className:"text-lg font-medium text-plutz-cream",children:t("inquiries.location")})}),e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"text-sm text-plutz-cream",children:s.location_name}),s.location_address&&e.jsx("p",{className:"mt-1 text-sm text-stone-400",children:s.location_address})]})]}),e.jsxs("div",{className:"overflow-hidden rounded-lg bg-plutz-surface shadow-sm",children:[e.jsx("div",{className:"border-b border-plutz-tan/10 px-6 py-4",children:e.jsx("h4",{className:"text-lg font-medium text-plutz-cream",children:t("inquiries.contact_information")})}),e.jsx("div",{className:"p-6",children:e.jsxs("dl",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-stone-500",children:t("common.name")}),e.jsx("dd",{className:"mt-1 text-sm text-plutz-cream",children:s.contact_person})]}),s.contact_email&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-stone-500",children:t("common.email")}),e.jsx("dd",{className:"mt-1 text-sm text-plutz-cream",children:e.jsx("a",{href:`mailto:${s.contact_email}`,className:"text-plutz-tan hover:text-plutz-tan",children:s.contact_email})})]}),s.contact_phone&&e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-stone-500",children:t("inquiries.phone")}),e.jsx("dd",{className:"mt-1 text-sm text-plutz-cream",children:e.jsx("a",{href:`tel:${s.contact_phone}`,className:"text-plutz-tan hover:text-plutz-tan",children:s.contact_phone})})]})]})})]}),!i&&s.price_amount&&e.jsxs("div",{className:"overflow-hidden rounded-lg bg-plutz-surface shadow-sm",children:[e.jsx("div",{className:"border-b border-plutz-tan/10 px-6 py-4",children:e.jsx("h4",{className:"text-lg font-medium text-plutz-cream",children:t("inquiries.price")})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("p",{className:"text-2xl font-bold text-plutz-cream",children:[s.price_amount," ",s.currency]}),s.income&&e.jsxs("p",{className:"mt-2 text-sm text-green-400",children:["âœ“ ",t("inquiries.payment_received")]})]})]}),s.notes&&e.jsxs("div",{className:"overflow-hidden rounded-lg bg-plutz-surface shadow-sm",children:[e.jsx("div",{className:"border-b border-plutz-tan/10 px-6 py-4",children:e.jsx("h4",{className:"text-lg font-medium text-plutz-cream",children:t("common.notes")})}),e.jsx("div",{className:"p-6",children:e.jsx("p",{className:"whitespace-pre-wrap text-sm text-stone-400",children:s.notes})})]})]})]})]})}export{z as default};
