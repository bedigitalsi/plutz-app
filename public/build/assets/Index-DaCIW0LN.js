import{a as $,r as C,j as e,H as M,L as i,b}from"./app-JcB2uSP0.js";import{A as q}from"./AuthenticatedLayout-DZ9_gY1e.js";import{u as F}from"./useTranslation-iEWy5_hl.js";import"./transition-Bs3KjsuR.js";function A({currentMonth:d,monthLabel:f,events:x,upcoming:m,calendarStart:p,calendarEnd:u,today:h}){const{t:s}=F(),j=$().props.auth.user?.hide_prices,N=C.useMemo(()=>{const t=[],[r,l]=d.split("-").map(Number),n=new Date(p+"T00:00:00"),o=new Date(u+"T00:00:00"),a=new Date(n);for(;a<=o;){const c=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`,y=a.getDate(),_=a.getMonth()+1===l&&a.getFullYear()===r,k=c===h,z=x.filter(D=>D.date===c);t.push({date:c,day:y,isCurrentMonth:_,isToday:k,events:z}),a.setDate(a.getDate()+1)}return t},[d,p,u,x,h]),g=t=>{const[r,l]=d.split("-").map(Number),n=new Date(r,l-1+(t==="next"?1:-1),1),o=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}`;b.visit(route("calendar.index",{month:o}))},w=(t,r)=>new Intl.NumberFormat("de-DE",{minimumFractionDigits:0,maximumFractionDigits:0}).format(t)+" "+r,v=[s("calendar.mon"),s("calendar.tue"),s("calendar.wed"),s("calendar.thu"),s("calendar.fri"),s("calendar.sat"),s("calendar.sun")];return e.jsxs(q,{className:"bg-plutz-dark",children:[e.jsx(M,{title:s("calendar.title")}),e.jsx("main",{className:"flex-grow w-full max-w-[1200px] mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 h-full",children:[e.jsxs("section",{className:"lg:col-span-2 flex flex-col gap-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:()=>g("prev"),className:"p-2 rounded-lg hover:bg-plutz-surface text-stone-400 hover:text-white transition-colors group",children:e.jsx("span",{className:"material-symbols-outlined group-hover:-translate-x-0.5 transition-transform",children:"chevron_left"})}),e.jsx("h2",{className:"font-serif text-3xl font-semibold text-white tracking-wide",children:f}),e.jsx("button",{onClick:()=>g("next"),className:"p-2 rounded-lg hover:bg-plutz-surface text-stone-400 hover:text-white transition-colors group",children:e.jsx("span",{className:"material-symbols-outlined group-hover:translate-x-0.5 transition-transform",children:"chevron_right"})})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"grid grid-cols-7 text-center",children:v.map(t=>e.jsx("div",{className:"text-xs font-semibold text-stone-500 uppercase tracking-widest py-2",children:t},t))}),e.jsx("div",{className:"grid grid-cols-7 gap-2 lg:gap-3 auto-rows-fr",children:N.map(t=>e.jsxs("div",{onClick:()=>{t.isCurrentMonth&&b.visit(route("inquiries.create",{date:t.date}))},className:`min-h-[80px] lg:min-h-[120px] rounded-lg p-2 lg:p-3 flex flex-col gap-1 lg:gap-2 transition-colors overflow-hidden ${t.isCurrentMonth?t.isToday?"bg-plutz-surface border border-plutz-tan cursor-pointer hover:bg-[#2a2624] shadow-[0_0_15px_-3px_rgba(164,137,112,0.15)]":"bg-plutz-surface cursor-pointer hover:bg-[#2a2624] group":"bg-plutz-surface/30 text-stone-600 cursor-default"}`,children:[t.isToday?e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"text-sm font-bold text-plutz-tan",children:t.day}),e.jsx("span",{className:"hidden lg:inline text-[10px] uppercase font-bold text-plutz-tan tracking-wide",children:s("calendar.today")})]}):e.jsx("span",{className:`text-sm font-medium ${t.isCurrentMonth?"text-plutz-cream group-hover:text-plutz-tan transition-colors":""}`,children:t.day}),t.events.map(r=>e.jsxs(i,{href:route("inquiries.show",r.id),onClick:l=>l.stopPropagation(),className:`w-full rounded px-2 py-1 flex items-center gap-1.5 ${r.status==="confirmed"?"bg-emerald-500/25 border border-emerald-400/50":r.status==="rejected"?"bg-red-500/25 border border-red-400/50":"bg-amber-500/25 border border-amber-400/50"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${r.status==="confirmed"?"bg-emerald-400":r.status==="rejected"?"bg-red-400":"bg-amber-400"}`}),e.jsx("span",{className:`text-[10px] font-bold truncate ${r.status==="confirmed"?"text-emerald-300":r.status==="rejected"?"text-red-300":"text-amber-300"}`,children:r.title})]},r.id))]},t.date))})]})]}),e.jsx("aside",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-plutz-surface rounded-xl p-6 h-full border border-[#2d2a28] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"font-serif text-xl font-semibold text-white",children:s("calendar.upcoming_events")}),e.jsx(i,{href:route("inquiries.index"),className:"text-xs text-plutz-tan font-medium hover:text-white transition-colors uppercase tracking-wider",children:s("calendar.view_all")})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 space-y-4",children:[m.map(t=>e.jsxs(i,{href:route("inquiries.show",t.id),className:`group flex flex-col p-4 rounded-lg transition-all cursor-pointer ${t.status==="confirmed"?"border-2 border-emerald-500/60 bg-emerald-500/5 hover:border-emerald-400 hover:bg-emerald-500/10":t.status==="rejected"?"border-2 border-red-500/60 bg-red-500/5 hover:border-red-400 hover:bg-red-500/10":"border-2 border-amber-500/60 bg-amber-500/5 hover:border-amber-400 hover:bg-amber-500/10"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-lg font-bold text-plutz-cream",children:t.day_label}),e.jsx("span",{className:"text-sm text-stone-400 font-medium",children:t.day_name})]}),t.status==="confirmed"?e.jsx("span",{className:"px-2.5 py-1 rounded bg-emerald-500 text-white text-[11px] font-bold uppercase tracking-wide shadow-lg shadow-emerald-500/25",children:s("calendar.confirmed")}):t.status==="rejected"?e.jsx("span",{className:"px-2.5 py-1 rounded bg-red-500 text-white text-[11px] font-bold uppercase tracking-wide shadow-lg shadow-red-500/25",children:s("calendar.rejected")||"ZAVRNJENO"}):e.jsx("span",{className:"px-2.5 py-1 rounded bg-amber-500 text-black text-[11px] font-bold uppercase tracking-wide shadow-lg shadow-amber-500/25",children:s("calendar.pending")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("h4",{className:"text-base font-medium text-white group-hover:text-plutz-tan transition-colors",children:t.title}),t.location_address&&e.jsx("p",{className:"text-sm text-stone-400",children:t.location_address})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-3 pt-3 border-t border-[#3a3633]",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-stone-400 text-xs",children:[e.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"schedule"}),e.jsx("span",{children:t.time||s("calendar.tbd")})]}),!j&&t.status==="confirmed"&&t.price?e.jsxs("div",{className:"flex items-center gap-1.5 text-stone-400 text-xs",children:[e.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"payments"}),e.jsx("span",{children:w(t.price,t.currency)})]}):t.status==="pending"?e.jsxs("div",{className:"flex items-center gap-1.5 text-stone-400 text-xs",children:[e.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"mail"}),e.jsx("span",{children:s("calendar.awaiting_reply")})]}):null]})]},t.id)),m.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("span",{className:"material-symbols-outlined text-stone-600 text-4xl block mb-2",children:"event_busy"}),e.jsx("p",{className:"text-stone-500 text-sm",children:s("calendar.no_upcoming_events")})]}),e.jsx("div",{className:"pt-4",children:e.jsxs(i,{href:route("inquiries.create"),className:"w-full py-3 rounded border border-dashed border-stone-600 text-stone-400 hover:text-white hover:border-stone-400 hover:bg-[#252220] transition-all text-sm font-medium flex items-center justify-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-lg",children:"add"}),s("calendar.add_event_request")]})})]})]})})]})})]})}export{A as default};
