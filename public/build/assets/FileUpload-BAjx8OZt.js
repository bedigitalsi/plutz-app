import{r as l,j as e}from"./app-HNDvGN7k.js";import{I as j}from"./InputLabel-DXYXkZxp.js";import{I as v}from"./TextInput-BHaryBWw.js";function b({label:o,accept:m="image/*,application/pdf",onChange:i,error:c,capture:x=!0}){const s=l.useRef(null),[d,r]=l.useState(null),[u,n]=l.useState(null),p=h=>{const t=h.target.files?.[0]||null;if(i(t),t)if(n(t.name),t.type.startsWith("image/")){const a=new FileReader;a.onloadend=()=>{r(a.result)},a.readAsDataURL(t)}else r(null);else n(null),r(null)},f=()=>{s.current&&(s.current.value=""),n(null),r(null),i(null)};return e.jsxs("div",{children:[o&&e.jsx(j,{value:o}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{ref:s,type:"file",accept:m,onChange:p,capture:x?"environment":void 0,className:"hidden"}),u?e.jsxs("div",{className:"rounded-md border border-gray-300 p-4",children:[d?e.jsx("div",{className:"mb-4",children:e.jsx("img",{src:d,alt:"Preview",className:"mx-auto max-h-48 rounded"})}):e.jsx("div",{className:"mb-4 flex items-center justify-center",children:e.jsx("svg",{className:"h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-gray-900 truncate",children:u}),e.jsx("button",{type:"button",onClick:f,className:"ml-4 text-sm text-red-600 hover:text-red-500",children:"Remove"})]})]}):e.jsxs("button",{type:"button",onClick:()=>s.current?.click(),className:"w-full rounded-md border-2 border-dashed border-gray-300 p-6 text-center hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Click to upload or take a photo"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"PNG, JPG, PDF up to 10MB"})]})]}),c&&e.jsx(v,{message:c,className:"mt-2"})]})}export{b as F};
