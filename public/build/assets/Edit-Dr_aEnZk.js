import{u as x,r as h,j as e,H as b,L as i}from"./app-HNDvGN7k.js";import{A as g}from"./AuthenticatedLayout-BQZKUX8f.js";import"./transition-D9rr6GVj.js";function y({auth:p,contract:a}){const{data:t,setData:l,patch:o,processing:n,errors:r}=x({client_name:a.client_name,client_email:a.client_email,client_company:a.client_company||"",client_address:a.client_address||"",performance_date:a.performance_date,total_price:a.total_price,deposit_amount:a.deposit_amount||"",currency:a.currency,markdown_snapshot:a.markdown_snapshot}),[d,m]=h.useState(!1),c=s=>{s.preventDefault(),o(route("contracts.update",a.id))};return e.jsxs(g,{header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Edit Contract"}),e.jsx(i,{href:route("contracts.show",a.id),className:"text-gray-600 hover:text-gray-900",children:"← Back to Contract"})]}),children:[e.jsx(b,{title:"Edit Contract"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("form",{onSubmit:c,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Client Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Name *"}),e.jsx("input",{type:"text",value:t.client_name,onChange:s=>l("client_name",s.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0}),r.client_name&&e.jsx("div",{className:"text-red-600 text-sm mt-1",children:r.client_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Email *"}),e.jsx("input",{type:"email",value:t.client_email,onChange:s=>l("client_email",s.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0}),r.client_email&&e.jsx("div",{className:"text-red-600 text-sm mt-1",children:r.client_email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company (Optional)"}),e.jsx("input",{type:"text",value:t.client_company,onChange:s=>l("client_company",s.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Performance Date *"}),e.jsx("input",{type:"date",value:t.performance_date,onChange:s=>l("performance_date",s.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0}),r.performance_date&&e.jsx("div",{className:"text-red-600 text-sm mt-1",children:r.performance_date})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address (Optional)"}),e.jsx("textarea",{value:t.client_address,onChange:s=>l("client_address",s.target.value),rows:3,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Financial Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Price *"}),e.jsx("input",{type:"number",step:"0.01",value:t.total_price,onChange:s=>l("total_price",s.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0}),r.total_price&&e.jsx("div",{className:"text-red-600 text-sm mt-1",children:r.total_price})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deposit Amount"}),e.jsx("input",{type:"number",step:"0.01",value:t.deposit_amount,onChange:s=>l("deposit_amount",s.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),e.jsxs("select",{value:t.currency,onChange:s=>l("currency",s.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"GBP",children:"GBP"})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Contract Content"}),e.jsx("button",{type:"button",onClick:()=>m(!d),className:"text-sm text-blue-600 hover:text-blue-800",children:d?"Hide Preview":"Show Preview"})]}),e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"You can use these placeholders: [NAROČNIK], [EMAIL], [PODJETJE], [NASLOV], [DATUM_NASTOPA], [SKUPNI_ZNESEK], [AVANS]"}),e.jsx("textarea",{value:t.markdown_snapshot,onChange:s=>l("markdown_snapshot",s.target.value),rows:15,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 font-mono text-sm",required:!0}),r.markdown_snapshot&&e.jsx("div",{className:"text-red-600 text-sm mt-1",children:r.markdown_snapshot}),d&&e.jsxs("div",{className:"mt-4 p-4 border border-gray-300 rounded-md bg-gray-50",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Preview:"}),e.jsx("div",{className:"prose max-w-none",children:t.markdown_snapshot.split(`
`).map((s,u)=>e.jsx("p",{children:s},u))})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(i,{href:route("contracts.show",a.id),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:n?"Saving...":"Save Changes"})]})]})})})})]})}export{y as default};
