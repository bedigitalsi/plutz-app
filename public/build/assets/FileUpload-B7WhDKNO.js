import{r as o,j as e}from"./app-f7bIRmgJ.js";import{u as b}from"./useTranslation-ljF9HR_F.js";import{I as N}from"./InputLabel-D89KNf0T.js";import{I as v}from"./TextInput-B2h04q27.js";function k({label:i,accept:x="image/*,application/pdf",onChange:c,error:u,capture:p=!0}){const{t:n}=b(),s=o.useRef(null),[m,l]=o.useState(null),[d,a]=o.useState(null),f=j=>{const t=j.target.files?.[0]||null;if(c(t),t)if(a(t.name),t.type.startsWith("image/")){const r=new FileReader;r.onloadend=()=>{l(r.result)},r.readAsDataURL(t)}else l(null);else a(null),l(null)},h=()=>{s.current&&(s.current.value=""),a(null),l(null),c(null)};return e.jsxs("div",{children:[i&&e.jsx(N,{value:i}),e.jsxs("div",{className:"mt-1",children:[e.jsx("input",{ref:s,type:"file",accept:x,onChange:f,capture:p?"environment":void 0,className:"hidden"}),d?e.jsxs("div",{className:"rounded-xl border border-plutz-tan/10 bg-plutz-surface p-4",children:[m?e.jsx("div",{className:"mb-4",children:e.jsx("img",{src:m,alt:"Preview",className:"mx-auto max-h-48 rounded-lg"})}):e.jsx("div",{className:"mb-4 flex items-center justify-center",children:e.jsx("span",{className:"material-symbols-outlined text-stone-500 text-4xl",children:"description"})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-plutz-cream truncate",children:d}),e.jsx("button",{type:"button",onClick:h,className:"ml-4 text-sm text-red-400 hover:text-red-300",children:n("component.file_upload_remove")})]})]}):e.jsxs("button",{type:"button",onClick:()=>s.current?.click(),className:"w-full rounded-xl border-2 border-dashed border-plutz-tan/20 p-6 text-center hover:border-plutz-tan/40 focus:outline-none focus:ring-2 focus:ring-plutz-tan focus:ring-offset-2 focus:ring-offset-plutz-dark bg-plutz-dark transition-colors",children:[e.jsx("span",{className:"material-symbols-outlined text-stone-500 text-4xl mx-auto block",children:"upload_file"}),e.jsx("p",{className:"mt-2 text-sm text-stone-400",children:n("component.file_upload_button")}),e.jsx("p",{className:"mt-1 text-xs text-stone-500",children:n("component.file_upload_formats")})]})]}),u&&e.jsx(v,{message:u,className:"mt-2"})]})}export{k as F};
