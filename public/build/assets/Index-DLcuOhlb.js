import{j as e,L as d,r as n,H as f,b as g}from"./app-998hJWIn.js";import{A as b}from"./AuthenticatedLayout-3UlnqeYe.js";import{S as v}from"./StatusBadge-CvVb3ASi.js";import"./transition-B2Gfb1sb.js";function N({inquiry:s}){const r=a=>new Date(a).toLocaleDateString("sl-SI",{year:"numeric",month:"long",day:"numeric"}),o=a=>a.includes("T")||a.includes(" ")?new Date(a).toLocaleTimeString("sl-SI",{hour:"2-digit",minute:"2-digit"}):a.substring(0,5);return e.jsx(d,{href:route("inquiries.show",s.id),className:"block rounded-lg border border-gray-200 bg-white p-4 shadow-sm transition hover:shadow-md",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.location_name}),e.jsx(v,{status:s.status})]}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("span",{children:r(s.performance_date)}),s.performance_time_exact&&e.jsxs("span",{className:"text-gray-500",children:["at ",o(s.performance_time_exact)]}),s.performance_time_text&&e.jsxs("span",{className:"text-gray-500",children:["(",s.performance_time_text,")"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e.jsx("span",{children:s.contact_person})]}),s.performance_type&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}),e.jsx("span",{children:s.performance_type.name}),s.band_size&&e.jsxs("span",{className:"text-gray-400",children:["â€¢ ",s.band_size.label]})]}),s.price_amount&&e.jsxs("div",{className:"mt-2 text-base font-semibold text-gray-900",children:[s.price_amount," ",s.currency||"EUR"]})]})]}),e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})}function L({inquiries:s,filters:r}){const[o,a]=n.useState(r.search||""),[l,i]=n.useState(r.status||""),[c,m]=n.useState(r.date_from||""),[x,h]=n.useState(r.date_to||""),u=()=>{g.get(route("inquiries.index"),{search:o,status:l,date_from:c,date_to:x},{preserveState:!0})},p=()=>{a(""),i(""),m(""),h(""),g.get(route("inquiries.index"))};return e.jsxs(b,{header:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Inquiries"}),e.jsx(d,{href:route("inquiries.create"),className:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500",children:"New Inquiry"})]}),children:[e.jsx(f,{title:"Inquiries"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6 rounded-lg bg-white p-4 shadow-sm",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Search"}),e.jsx("input",{type:"text",value:o,onChange:t=>a(t.target.value),placeholder:"Location, contact...",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),e.jsxs("select",{value:l,onChange:t=>i(t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"From Date"}),e.jsx("input",{type:"date",value:c,onChange:t=>m(t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"To Date"}),e.jsx("input",{type:"date",value:x,onChange:t=>h(t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"})]})]}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsx("button",{onClick:u,className:"rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500",children:"Apply Filters"}),e.jsx("button",{onClick:p,className:"rounded-md bg-gray-200 px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-300",children:"Reset"})]})]}),s.data.length===0?e.jsxs("div",{className:"rounded-lg bg-white p-8 text-center shadow-sm",children:[e.jsx("p",{className:"text-gray-500",children:"No inquiries found."}),e.jsx(d,{href:route("inquiries.create"),className:"mt-4 inline-block text-indigo-600 hover:text-indigo-500",children:"Create your first inquiry"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.data.map(t=>e.jsx(N,{inquiry:t},t.id))}),s.last_page>1&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx("nav",{className:"flex gap-2",children:s.links.map((t,j)=>e.jsx(d,{href:t.url||"#",className:`rounded-md px-3 py-2 text-sm ${t.active?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} ${t.url?"":"cursor-not-allowed opacity-50"}`,dangerouslySetInnerHTML:{__html:t.label}},j))})})]})]})})]})}export{L as default};
