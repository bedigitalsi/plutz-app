import{r as b,j as e,H as A,L as n,b as z}from"./app-998hJWIn.js";import{A as I}from"./AuthenticatedLayout-3UlnqeYe.js";import"./transition-B2Gfb1sb.js";function P({inquiryStats:v,inquiryTotals:w,incomeStats:i,expenseStats:d,mutualFund:C,groupCostStats:o,userStats:x,upcomingGigs:g,filters:s}){const[m,p]=b.useState(s.date_from||""),[u,h]=b.useState(s.date_to||""),[k,T]=b.useState(!1);b.useEffect(()=>{p(s.date_from||""),h(s.date_to||"")},[s.date_from,s.date_to]);const r=t=>new Intl.NumberFormat("de-DE",{minimumFractionDigits:0,maximumFractionDigits:0}).format(t),y=t=>new Date(t+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"}),N=(t,a)=>{const l={};return t&&(l.date_from=t),a&&(l.date_to=a),l},j=N(s.date_from||"",s.date_to||""),U=()=>{const t=N(m,u);z.get(route("dashboard"),t,{preserveScroll:!0,replace:!0})},_=()=>{p(""),h(""),z.get(route("dashboard"),{},{preserveScroll:!0,replace:!0})},R=t=>{const a=new Date;let l="",c="";switch(t){case"all":_();return;case"this-month":l=new Date(a.getFullYear(),a.getMonth(),1).toISOString().split("T")[0],c=new Date(a.getFullYear(),a.getMonth()+1,0).toISOString().split("T")[0];break;case"this-year":l=`${a.getFullYear()}-01-01`,c=`${a.getFullYear()}-12-31`;break;case"last-30":l=new Date(a.getTime()-696*60*60*1e3).toISOString().split("T")[0],c=a.toISOString().split("T")[0];break;case"last-365":l=new Date(a.getTime()-364*24*60*60*1e3).toISOString().split("T")[0],c=a.toISOString().split("T")[0];break}p(l),h(c);const B=N(l,c);z.get(route("dashboard"),B,{preserveScroll:!0,replace:!0})},L=m&&u&&m>u,W=()=>!s.date_from&&!s.date_to?"All time":s.date_from&&s.date_to?`${s.date_from} → ${s.date_to}`:s.date_from?`From ${s.date_from}`:s.date_to?`Up to ${s.date_to}`:"All time",M=i.total-d.total,f=d.total+o.paid,F=f>0?Math.round(o.paid/f*100):0,D=f>0?Math.round(d.total/f*100):0,E=g.find(t=>t.status==="confirmed");return e.jsxs(I,{className:"bg-plutz-dark",children:[e.jsx(A,{title:"Dashboard"}),e.jsxs("div",{className:"min-h-screen bg-plutz-dark",children:[e.jsx("div",{className:"bg-gradient-to-b from-plutz-dark to-plutz-surface px-4 sm:px-6 lg:px-8 pt-8 pb-2",children:e.jsxs("div",{className:"mx-auto max-w-[1200px]",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"font-serif text-3xl text-plutz-cream",children:"Dashboard"}),e.jsx("p",{className:"text-plutz-warm-gray text-sm mt-1",children:W()})]}),e.jsxs("button",{onClick:()=>T(!k),className:"flex items-center gap-2 text-plutz-tan hover:text-plutz-tan-light text-sm font-medium uppercase tracking-wider transition-colors",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"Filter"]})]}),k&&e.jsxs("div",{className:"mt-4 bg-plutz-surface rounded-xl border border-plutz-tan/10 p-5 mb-6",children:[e.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-[150px]",children:[e.jsx("label",{htmlFor:"date_from",className:"block text-xs font-medium text-plutz-warm-gray mb-1 uppercase tracking-wider",children:"From"}),e.jsx("input",{type:"date",id:"date_from",value:m,onChange:t=>p(t.target.value),className:"w-full rounded-lg border-plutz-tan/20 bg-plutz-dark text-plutz-cream shadow-sm focus:border-plutz-tan focus:ring-plutz-tan text-sm"})]}),e.jsxs("div",{className:"flex-1 min-w-[150px]",children:[e.jsx("label",{htmlFor:"date_to",className:"block text-xs font-medium text-plutz-warm-gray mb-1 uppercase tracking-wider",children:"To"}),e.jsx("input",{type:"date",id:"date_to",value:u,onChange:t=>h(t.target.value),className:"w-full rounded-lg border-plutz-tan/20 bg-plutz-dark text-plutz-cream shadow-sm focus:border-plutz-tan focus:ring-plutz-tan text-sm"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:U,disabled:!!L,className:"rounded-xl bg-plutz-tan px-4 py-2 text-sm font-bold text-plutz-dark hover:bg-plutz-tan-light disabled:opacity-40 disabled:cursor-not-allowed transition uppercase tracking-wider",children:"Apply"}),e.jsx("button",{onClick:_,className:"rounded-xl bg-plutz-tan/20 px-4 py-2 text-sm font-bold text-plutz-tan hover:bg-plutz-tan/30 border border-plutz-tan/20 transition uppercase tracking-wider",children:"Clear"})]})]}),L&&e.jsx("p",{className:"mt-2 text-sm text-red-400",children:'"From" must be before "To"'}),e.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:[{key:"all",label:"All"},{key:"this-month",label:"This Month"},{key:"this-year",label:"This Year"},{key:"last-30",label:"Last 30 Days"},{key:"last-365",label:"Last 365 Days"}].map(({key:t,label:a})=>e.jsx("button",{onClick:()=>R(t),className:"rounded-lg bg-plutz-dark px-3 py-1.5 text-xs font-medium text-plutz-warm-gray hover:text-plutz-cream hover:bg-plutz-brown/50 transition",children:a},t))})]})]})}),e.jsx("div",{className:"px-4 sm:px-6 lg:px-8 pb-32",children:e.jsxs("div",{className:"mx-auto max-w-[1200px]",children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[e.jsxs(n,{href:route("inquiries.index",{status:"pending",...j}),className:"bg-plutz-surface p-6 rounded-xl border border-plutz-tan/10 shadow-sm hover:border-plutz-tan/30 transition-colors group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-plutz-warm-gray text-xs font-medium uppercase tracking-wider",children:"Pending"}),e.jsx("svg",{className:"w-5 h-5 text-plutz-tan",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})]}),e.jsx("p",{className:"text-3xl font-bold text-plutz-cream",children:v.pending}),w.pending>0&&e.jsxs("div",{className:"mt-2 text-xs text-plutz-tan font-medium flex items-center gap-1",children:[r(w.pending)," EUR potential"]})]}),e.jsxs(n,{href:route("inquiries.index",{status:"confirmed",...j}),className:"bg-plutz-surface p-6 rounded-xl border border-plutz-tan/10 shadow-sm hover:border-plutz-tan/30 transition-colors group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-plutz-warm-gray text-xs font-medium uppercase tracking-wider",children:"Confirmed"}),e.jsx("svg",{className:"w-5 h-5 text-plutz-tan",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),e.jsx("p",{className:"text-3xl font-bold text-plutz-cream",children:v.confirmed}),E&&e.jsxs("div",{className:"mt-2 text-xs text-plutz-warm-gray font-medium",children:["Next: ",y(E.performance_date)]})]}),e.jsxs(n,{href:route("incomes.index",j),className:"bg-plutz-surface p-6 rounded-xl border border-plutz-tan/10 shadow-sm hover:border-plutz-tan/30 transition-colors group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-plutz-warm-gray text-xs font-medium uppercase tracking-wider",children:"Total Income"}),e.jsx("svg",{className:"w-5 h-5 text-plutz-tan",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),e.jsxs("p",{className:"text-3xl font-bold text-plutz-cream",children:[r(i.total)," ",e.jsx("span",{className:"text-xl font-normal opacity-70",children:"EUR"})]}),M>0&&e.jsxs("div",{className:"mt-2 text-xs text-emerald-400 font-medium flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 10l7-7m0 0l7 7m-7-7v18"})}),"Net +",r(M)," EUR"]})]}),e.jsxs("div",{className:"bg-plutz-surface p-6 rounded-xl border border-plutz-tan/10 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{className:"text-plutz-warm-gray text-xs font-medium uppercase tracking-wider",children:"Mutual Fund"}),e.jsx("svg",{className:"w-5 h-5 text-plutz-tan",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})]}),e.jsxs("p",{className:"text-3xl font-bold text-plutz-cream",children:[r(C.balance)," ",e.jsx("span",{className:"text-xl font-normal opacity-70",children:"EUR"})]}),e.jsx("div",{className:"mt-2 text-xs text-plutz-warm-gray font-medium",children:"Shared band savings"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[e.jsx("h2",{className:"font-serif text-2xl text-plutz-cream",children:"Upcoming Gigs"}),e.jsx(n,{href:route("inquiries.index",{status:"confirmed",...j}),className:"text-plutz-tan hover:text-plutz-tan-light text-sm font-medium uppercase tracking-wider transition-colors",children:"View All"})]}),e.jsx("div",{className:"bg-plutz-surface rounded-xl border border-plutz-tan/10 overflow-hidden shadow-sm",children:g.length>0?e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-plutz-dark/50 border-b border-plutz-tan/10",children:[e.jsx("th",{className:"px-6 py-4 text-xs font-semibold uppercase tracking-widest text-plutz-warm-gray",children:"Date"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold uppercase tracking-widest text-plutz-warm-gray",children:"Venue"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold uppercase tracking-widest text-plutz-warm-gray",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-xs font-semibold uppercase tracking-widest text-plutz-warm-gray text-right",children:"Amount"})]})}),e.jsx("tbody",{className:"divide-y divide-plutz-tan/5",children:g.map(t=>e.jsxs("tr",{className:"hover:bg-plutz-tan/5 transition-colors",children:[e.jsx("td",{className:"px-6 py-5 text-plutz-cream font-medium",children:y(t.performance_date)}),e.jsx("td",{className:"px-6 py-5 text-plutz-warm-gray",children:t.location_name||t.contact_person||"—"}),e.jsx("td",{className:"px-6 py-5",children:t.status==="confirmed"?e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-plutz-tan text-plutz-dark",children:"Confirmed"}):e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-plutz-warm-gray/20 text-plutz-warm-gray border border-plutz-warm-gray/30",children:"Pending"})}),e.jsx("td",{className:"px-6 py-5 text-right text-plutz-cream font-medium",children:t.price_amount?`${r(parseFloat(t.price_amount))} ${t.currency||"EUR"}`:"—"})]},t.id))})]}):e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("p",{className:"text-plutz-warm-gray text-sm",children:"No upcoming gigs scheduled"}),e.jsx(n,{href:route("inquiries.create"),className:"mt-3 inline-block text-plutz-tan hover:text-plutz-tan-light text-sm font-medium transition-colors",children:"+ Add an inquiry"})]})})]}),e.jsxs("div",{className:"lg:col-span-1",children:[e.jsx("div",{className:"flex items-center justify-between mb-4 px-1",children:e.jsx("h2",{className:"font-serif text-2xl text-plutz-cream",children:"Financial Overview"})}),e.jsx("div",{className:"bg-plutz-surface rounded-xl border border-plutz-tan/10 p-6 shadow-sm",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-500/10 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-plutz-cream",children:"Revenue"}),e.jsxs("p",{className:"text-xs text-plutz-warm-gray",children:[i.count," income(s)"]})]})]}),e.jsxs("p",{className:"font-bold text-plutz-cream",children:["+",r(i.total)," EUR"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-red-500/10 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-plutz-cream",children:"Expenses"}),e.jsxs("p",{className:"text-xs text-plutz-warm-gray",children:[d.count," expense(s)"]})]})]}),e.jsxs("p",{className:"font-bold text-plutz-cream",children:["-",r(d.total)," EUR"]})]}),(o.count>0||d.count>0)&&e.jsxs("div",{className:"pt-6 border-t border-plutz-tan/5",children:[e.jsx("p",{className:"text-xs text-plutz-warm-gray uppercase tracking-widest mb-4",children:"Expense Breakdown"}),e.jsxs("div",{className:"space-y-4",children:[o.paid>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-plutz-warm-gray",children:"Group Costs (Paid)"}),e.jsxs("span",{className:"text-plutz-cream",children:[F,"%"]})]}),e.jsx("div",{className:"w-full bg-plutz-dark rounded-full h-1.5",children:e.jsx("div",{className:"bg-plutz-tan h-1.5 rounded-full transition-all",style:{width:`${F}%`}})})]}),d.total>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-plutz-warm-gray",children:"Direct Expenses"}),e.jsxs("span",{className:"text-plutz-cream",children:[D,"%"]})]}),e.jsx("div",{className:"w-full bg-plutz-dark rounded-full h-1.5",children:e.jsx("div",{className:"bg-plutz-tan/60 h-1.5 rounded-full transition-all",style:{width:`${D}%`}})})]}),o.unpaid>0&&e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-plutz-warm-gray",children:"Unpaid Group Costs"}),e.jsxs("span",{className:"text-amber-400",children:[r(o.unpaid)," EUR"]})]})})]})]}),i.count>0&&e.jsxs("div",{className:"pt-6 border-t border-plutz-tan/5",children:[e.jsx("p",{className:"text-xs text-plutz-warm-gray uppercase tracking-widest mb-3",children:"Invoicing"}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-plutz-warm-gray",children:"With invoice"}),e.jsxs("span",{className:"text-plutz-cream font-medium",children:[r(i.with_invoice)," EUR"]})]}),e.jsxs("div",{className:"flex justify-between text-sm mt-1",children:[e.jsx("span",{className:"text-plutz-warm-gray",children:"Without invoice"}),e.jsxs("span",{className:"text-plutz-cream font-medium",children:[r(i.without_invoice)," EUR"]})]})]})]})})]})]}),x&&e.jsxs("div",{className:"mb-8 bg-plutz-surface rounded-xl border border-plutz-tan/10 p-6 shadow-sm",children:[e.jsx("h3",{className:"text-sm font-semibold text-plutz-tan mb-3 uppercase tracking-wider",children:"Your Earnings"}),e.jsxs("p",{className:"text-2xl font-bold text-plutz-cream",children:[r(x.total_received)," ",e.jsx("span",{className:"text-lg font-normal opacity-70",children:"EUR"})]}),x.monthly&&x.monthly.length>0&&e.jsx("div",{className:"mt-4 flex gap-3 overflow-x-auto",children:x.monthly.map(t=>e.jsxs("div",{className:"flex-shrink-0 bg-plutz-dark rounded-lg px-3 py-2 text-center min-w-[70px]",children:[e.jsx("p",{className:"text-xs text-plutz-warm-gray",children:t.month}),e.jsx("p",{className:"text-sm font-bold text-plutz-cream mt-1",children:r(t.total)})]},t.month))})]})]})}),e.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 w-full max-w-[1200px] px-6 z-50",children:e.jsxs("div",{className:"bg-plutz-surface/80 backdrop-blur-xl border border-plutz-tan/20 p-3 rounded-2xl shadow-2xl flex items-center justify-center gap-3 flex-wrap",children:[e.jsxs(n,{href:route("inquiries.create"),className:"flex items-center gap-2 bg-plutz-tan hover:bg-plutz-tan-light transition-all text-plutz-dark px-5 py-3 rounded-xl font-bold text-xs uppercase tracking-widest",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"New Inquiry"]}),e.jsxs(n,{href:route("expenses.create"),className:"flex items-center gap-2 bg-plutz-tan/20 hover:bg-plutz-tan/30 transition-all text-plutz-tan px-5 py-3 rounded-xl font-bold text-xs uppercase tracking-widest border border-plutz-tan/20",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2z"})}),"Add Expense"]}),e.jsxs(n,{href:route("incomes.create"),className:"flex items-center gap-2 bg-plutz-tan/20 hover:bg-plutz-tan/30 transition-all text-plutz-tan px-5 py-3 rounded-xl font-bold text-xs uppercase tracking-widest border border-plutz-tan/20",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2z"})}),"Add Income"]}),e.jsxs(n,{href:route("group-costs.create"),className:"flex items-center gap-2 bg-plutz-tan/20 hover:bg-plutz-tan/30 transition-all text-plutz-tan px-5 py-3 rounded-xl font-bold text-xs uppercase tracking-widest border border-plutz-tan/20",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),"Group Cost"]})]})}),e.jsx("div",{className:"h-24"})]})]})}export{P as default};
