import{a as $,r as C,j as e,H as M,L as i,b as f}from"./app-f7bIRmgJ.js";import{A as q}from"./AuthenticatedLayout-tp0SiGs7.js";import{u as F}from"./useTranslation-ljF9HR_F.js";import"./transition-C2C0bcQk.js";function Y({currentMonth:o,monthLabel:b,events:x,upcoming:m,calendarStart:p,calendarEnd:u,today:h}){const{t:s}=F(),j=$().props.auth.user?.hide_prices,N=C.useMemo(()=>{const t=[],[a,n]=o.split("-").map(Number),l=new Date(p+"T00:00:00"),d=new Date(u+"T00:00:00"),r=new Date(l);for(;r<=d;){const c=`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}-${String(r.getDate()).padStart(2,"0")}`,y=r.getDate(),z=r.getMonth()+1===n&&r.getFullYear()===a,_=c===h,k=x.filter(D=>D.date===c);t.push({date:c,day:y,isCurrentMonth:z,isToday:_,events:k}),r.setDate(r.getDate()+1)}return t},[o,p,u,x,h]),g=t=>{const[a,n]=o.split("-").map(Number),l=new Date(a,n-1+(t==="next"?1:-1),1),d=`${l.getFullYear()}-${String(l.getMonth()+1).padStart(2,"0")}`;f.visit(route("calendar.index",{month:d}))},w=(t,a)=>new Intl.NumberFormat("de-DE",{minimumFractionDigits:0,maximumFractionDigits:0}).format(t)+" "+a,v=[s("calendar.mon"),s("calendar.tue"),s("calendar.wed"),s("calendar.thu"),s("calendar.fri"),s("calendar.sat"),s("calendar.sun")];return e.jsxs(q,{className:"bg-plutz-dark",children:[e.jsx(M,{title:s("calendar.title")}),e.jsx("main",{className:"flex-grow w-full max-w-[1200px] mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 h-full",children:[e.jsxs("section",{className:"lg:col-span-2 flex flex-col gap-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:()=>g("prev"),className:"p-2 rounded-lg hover:bg-plutz-surface text-stone-400 hover:text-white transition-colors group",children:e.jsx("span",{className:"material-symbols-outlined group-hover:-translate-x-0.5 transition-transform",children:"chevron_left"})}),e.jsx("h2",{className:"font-serif text-3xl font-semibold text-white tracking-wide",children:b}),e.jsx("button",{onClick:()=>g("next"),className:"p-2 rounded-lg hover:bg-plutz-surface text-stone-400 hover:text-white transition-colors group",children:e.jsx("span",{className:"material-symbols-outlined group-hover:translate-x-0.5 transition-transform",children:"chevron_right"})})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:"grid grid-cols-7 text-center",children:v.map(t=>e.jsx("div",{className:"text-xs font-semibold text-stone-500 uppercase tracking-widest py-2",children:t},t))}),e.jsx("div",{className:"grid grid-cols-7 gap-2 lg:gap-3 auto-rows-fr",children:N.map(t=>e.jsxs("div",{onClick:()=>{t.isCurrentMonth&&f.visit(route("inquiries.create",{date:t.date}))},className:`min-h-[80px] lg:min-h-[120px] rounded-lg p-2 lg:p-3 flex flex-col gap-1 lg:gap-2 transition-colors overflow-hidden ${t.isCurrentMonth?t.isToday?"bg-plutz-surface border border-plutz-tan cursor-pointer hover:bg-[#2a2624] shadow-[0_0_15px_-3px_rgba(164,137,112,0.15)]":"bg-plutz-surface cursor-pointer hover:bg-[#2a2624] group":"bg-plutz-surface/30 text-stone-600 cursor-default"}`,children:[t.isToday?e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"text-sm font-bold text-plutz-tan",children:t.day}),e.jsx("span",{className:"hidden lg:inline text-[10px] uppercase font-bold text-plutz-tan tracking-wide",children:s("calendar.today")})]}):e.jsx("span",{className:`text-sm font-medium ${t.isCurrentMonth?"text-plutz-cream group-hover:text-plutz-tan transition-colors":""}`,children:t.day}),t.events.map(a=>e.jsxs(i,{href:route("inquiries.show",a.id),onClick:n=>n.stopPropagation(),className:`w-full rounded px-2 py-1 flex items-center gap-1.5 ${a.status==="confirmed"?"bg-plutz-tan/20 border border-plutz-tan/30":a.status==="pending"?"bg-stone-700/50 border border-stone-600":"bg-stone-800/50 border border-stone-700"}`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full flex-shrink-0 ${a.status==="confirmed"?"bg-plutz-tan":"bg-stone-400"}`}),e.jsx("span",{className:`text-[10px] font-medium truncate ${a.status==="confirmed"?"text-plutz-tan":"text-stone-300"}`,children:a.title})]},a.id))]},t.date))})]})]}),e.jsx("aside",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-plutz-surface rounded-xl p-6 h-full border border-[#2d2a28] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"font-serif text-xl font-semibold text-white",children:s("calendar.upcoming_events")}),e.jsx(i,{href:route("inquiries.index"),className:"text-xs text-plutz-tan font-medium hover:text-white transition-colors uppercase tracking-wider",children:s("calendar.view_all")})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 space-y-4",children:[m.map(t=>e.jsxs(i,{href:route("inquiries.show",t.id),className:`group flex flex-col p-4 rounded-lg transition-all ${t.status==="confirmed"?"border border-[#2d2a28] hover:border-plutz-tan/50 hover:bg-[#252220] cursor-pointer":"border border-dashed border-stone-600 hover:border-stone-400 bg-[#1a1816] hover:bg-[#252220] cursor-pointer opacity-80 hover:opacity-100"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-lg font-bold text-plutz-cream",children:t.day_label}),e.jsx("span",{className:"text-sm text-stone-400 font-medium",children:t.day_name})]}),t.status==="confirmed"?e.jsx("span",{className:"px-2.5 py-1 rounded bg-plutz-tan text-plutz-dark text-[11px] font-bold uppercase tracking-wide",children:s("calendar.confirmed")}):e.jsx("span",{className:"px-2.5 py-1 rounded border border-stone-600 bg-stone-800 text-stone-300 text-[11px] font-bold uppercase tracking-wide",children:s("calendar.pending")})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("h4",{className:"text-base font-medium text-white group-hover:text-plutz-tan transition-colors",children:t.title}),t.location_address&&e.jsx("p",{className:"text-sm text-stone-400",children:t.location_address})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-3 pt-3 border-t border-[#3a3633]",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-stone-400 text-xs",children:[e.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"schedule"}),e.jsx("span",{children:t.time||s("calendar.tbd")})]}),!j&&t.status==="confirmed"&&t.price?e.jsxs("div",{className:"flex items-center gap-1.5 text-stone-400 text-xs",children:[e.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"payments"}),e.jsx("span",{children:w(t.price,t.currency)})]}):t.status==="pending"?e.jsxs("div",{className:"flex items-center gap-1.5 text-stone-400 text-xs",children:[e.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"mail"}),e.jsx("span",{children:s("calendar.awaiting_reply")})]}):null]})]},t.id)),m.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("span",{className:"material-symbols-outlined text-stone-600 text-4xl block mb-2",children:"event_busy"}),e.jsx("p",{className:"text-stone-500 text-sm",children:s("calendar.no_upcoming_events")})]}),e.jsx("div",{className:"pt-4",children:e.jsxs(i,{href:route("inquiries.create"),className:"w-full py-3 rounded border border-dashed border-stone-600 text-stone-400 hover:text-white hover:border-stone-400 hover:bg-[#252220] transition-all text-sm font-medium flex items-center justify-center gap-2",children:[e.jsx("span",{className:"material-symbols-outlined text-lg",children:"add"}),s("calendar.add_event_request")]})})]})]})})]})})]})}export{Y as default};
