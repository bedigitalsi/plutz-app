import{u as x,j as e,H as u,L as i,b as h}from"./app-HNDvGN7k.js";import{A as p}from"./AuthenticatedLayout-BQZKUX8f.js";import"./transition-D9rr6GVj.js";function N({auth:b,template:s}){const{data:r,setData:d,patch:c,processing:n,errors:a}=x({name:s.name,markdown:s.markdown}),l=t=>{t.preventDefault(),c(route("contract-templates.update",s.id))},o=()=>{h.patch(route("contract-templates.activate",s.id))},m=[{code:"[NAROČNIK]",description:"Client name"},{code:"[EMAIL]",description:"Client email"},{code:"[PODJETJE]",description:"Client company"},{code:"[NASLOV]",description:"Client address"},{code:"[DATUM_NASTOPA]",description:"Performance date"},{code:"[SKUPNI_ZNESEK]",description:"Total price"},{code:"[AVANS]",description:"Deposit amount"},{code:"[PLUTZ_ADDRESS]",description:"Plutz address"}];return e.jsxs(p,{header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Edit Contract Template"}),e.jsxs("div",{className:"flex space-x-3",children:[!s.is_active&&e.jsx("button",{onClick:o,className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700",children:"Set as Active"}),e.jsx(i,{href:route("contract-templates.index"),className:"text-gray-600 hover:text-gray-900 flex items-center",children:"← Back to Templates"})]})]}),children:[e.jsx(u,{title:"Edit Contract Template"}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto sm:px-6 lg:px-8",children:[s.is_active&&e.jsx("div",{className:"mb-4 bg-green-50 border border-green-200 rounded-md p-4",children:e.jsxs("p",{className:"text-sm text-green-800",children:[e.jsx("strong",{children:"Active Template:"})," This template is currently used as the default when creating contracts."]})}),e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("form",{onSubmit:l,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Template Name *"}),e.jsx("input",{type:"text",value:r.name,onChange:t=>d("name",t.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0}),a.name&&e.jsx("div",{className:"text-red-600 text-sm mt-1",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contract Content (Markdown) *"}),e.jsxs("div",{className:"mb-2 p-3 bg-blue-50 border border-blue-200 rounded-md",children:[e.jsx("p",{className:"text-sm font-medium text-blue-900 mb-2",children:"Available Placeholders:"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs text-blue-800",children:m.map(t=>e.jsxs("div",{children:[e.jsx("code",{className:"bg-blue-100 px-1 py-0.5 rounded",children:t.code}),e.jsx("span",{className:"ml-2",children:t.description})]},t.code))})]}),e.jsx("textarea",{value:r.markdown,onChange:t=>d("markdown",t.target.value),rows:20,className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 font-mono text-sm",required:!0}),a.markdown&&e.jsx("div",{className:"text-red-600 text-sm mt-1",children:a.markdown})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(i,{href:route("contract-templates.index"),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:n?"Saving...":"Save Changes"})]})]})})]})})]})}export{N as default};
