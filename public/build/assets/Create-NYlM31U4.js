import{a as y,r as q,u as w,j as e,H as z,L as u}from"./app-vd_5vZFp.js";import{A as k}from"./AuthenticatedLayout-_FQx_mKr.js";import{T as m,I as i}from"./TextInput-BuifcEpL.js";import{I as l}from"./InputLabel-DCFQxglC.js";import{P as C}from"./PrimaryButton-YGu8hXO4.js";import{u as F}from"./useTranslation-mjmPwNPG.js";import"./transition-kDmOH011.js";function $({performanceTypes:p,bandMembers:_,date:o}){const{t:s}=F(),h=y().props.auth.user?.hide_prices,[d,j]=q.useState("exact_time"),{data:a,setData:r,post:f,processing:g,errors:n}=w({performance_date:o||"",performance_time_mode:"exact_time",performance_time_exact:"",performance_time_text:"",duration_minutes:"120",location_name:"",location_address:"",contact_person:"",contact_email:"",contact_phone:"",performance_type_id:"",band_member_ids:[],price_amount:"",currency:"EUR",notes:""}),b=t=>{t.preventDefault(),f(route("inquiries.store"))},x=t=>{j(t),r("performance_time_mode",t)},v=t=>{const c=a.band_member_ids;c.includes(t)?r("band_member_ids",c.filter(N=>N!==t)):r("band_member_ids",[...c,t])};return e.jsxs(k,{className:"bg-plutz-dark",children:[e.jsx(z,{title:s("inquiries.new_inquiry_page")}),e.jsx("div",{className:"max-w-[1200px] mx-auto w-full p-6 pb-0",children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"text-2xl font-serif text-plutz-cream",children:s("inquiries.new_inquiry_page")}),o?e.jsxs(u,{href:route("calendar.index",{month:o.substring(0,7)}),className:"inline-flex items-center gap-1.5 text-stone-400 hover:text-plutz-tan text-sm font-medium transition-colors group",children:[e.jsx("span",{className:"material-symbols-outlined text-lg group-hover:-translate-x-0.5 transition-transform",children:"arrow_back"}),s("calendar.title")]}):e.jsx(u,{href:route("inquiries.index"),className:"text-plutz-tan hover:text-plutz-tan-light text-sm font-medium",children:s("inquiries.back_to_list")})]})}),e.jsx("div",{className:"max-w-[1200px] mx-auto w-full p-6",children:e.jsx("div",{className:"overflow-hidden bg-plutz-surface shadow-sm sm:rounded-lg",children:e.jsxs("form",{onSubmit:b,className:"space-y-6 p-6",children:[e.jsxs("div",{className:"border-b border-plutz-tan/10 pb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-plutz-cream",children:s("inquiries.performance_details")}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"performance_date",value:s("inquiries.performance_date")}),e.jsx(m,{id:"performance_date",type:"date",className:"mt-1 block w-full",value:a.performance_date,onChange:t=>r("performance_date",t.target.value),required:!0}),e.jsx(i,{message:n.performance_date,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"performance_type_id",value:s("inquiries.performance_type")}),e.jsxs("select",{id:"performance_type_id",className:"mt-1 block w-full rounded-md border-plutz-tan/20 shadow-sm focus:border-plutz-tan focus:ring-plutz-tan",value:a.performance_type_id,onChange:t=>r("performance_type_id",t.target.value),required:!0,children:[e.jsx("option",{value:"",children:s("inquiries.select_type")}),p.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsx(i,{message:n.performance_type_id,className:"mt-2"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{value:s("inquiries.performance_time")}),e.jsxs("div",{className:"mt-2 flex gap-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",checked:d==="exact_time",onChange:()=>x("exact_time"),className:"h-4 w-4 border-plutz-tan/20 text-plutz-tan focus:ring-plutz-tan"}),e.jsx("span",{className:"ml-2 text-sm text-stone-400",children:s("inquiries.exact_time")})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",checked:d==="text_time",onChange:()=>x("text_time"),className:"h-4 w-4 border-plutz-tan/20 text-plutz-tan focus:ring-plutz-tan"}),e.jsx("span",{className:"ml-2 text-sm text-stone-400",children:s("inquiries.text_description")})]})]}),d==="exact_time"?e.jsx(m,{type:"time",className:"mt-2 block w-full md:w-1/2",value:a.performance_time_exact,onChange:t=>r("performance_time_exact",t.target.value)}):e.jsx(m,{type:"text",placeholder:s("inquiries.time_placeholder"),className:"mt-2 block w-full md:w-1/2",value:a.performance_time_text,onChange:t=>r("performance_time_text",t.target.value)}),e.jsx(i,{message:n.performance_time_exact||n.performance_time_text,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{htmlFor:"duration_minutes",value:s("inquiries.duration_minutes")}),e.jsx(m,{id:"duration_minutes",type:"number",className:"mt-1 block w-full md:w-1/2",value:a.duration_minutes,onChange:t=>r("duration_minutes",t.target.value)}),e.jsx(i,{message:n.duration_minutes,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{value:s("inquiries.band_members")}),e.jsx("p",{className:"text-xs text-stone-500 mt-1 mb-3",children:s("inquiries.band_members_help")}),e.jsx("div",{className:"flex flex-wrap gap-2",children:_.map(t=>{const c=a.band_member_ids.includes(t.id);return e.jsxs("button",{type:"button",onClick:()=>v(t.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-all border ${c?"bg-plutz-tan text-plutz-dark border-plutz-tan shadow-md":"bg-transparent text-stone-400 border-stone-600 hover:border-plutz-tan/50 hover:text-stone-300"}`,children:[c&&e.jsx("span",{className:"mr-1.5",children:"âœ“"}),t.name]},t.id)})}),a.band_member_ids.length>0&&e.jsx("p",{className:"mt-2 text-xs text-plutz-tan",children:a.band_member_ids.length===1?"Solo":`${a.band_member_ids.length} ${s("inquiries.people")}`}),e.jsx(i,{message:n.band_member_ids,className:"mt-2"})]})]}),e.jsxs("div",{className:"border-b border-plutz-tan/10 pb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-plutz-cream",children:s("inquiries.location")}),e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{htmlFor:"location_name",value:s("inquiries.location_name")}),e.jsx(m,{id:"location_name",type:"text",className:"mt-1 block w-full",value:a.location_name,onChange:t=>r("location_name",t.target.value),required:!0}),e.jsx(i,{message:n.location_name,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{htmlFor:"location_address",value:s("inquiries.address")}),e.jsx(m,{id:"location_address",type:"text",className:"mt-1 block w-full",value:a.location_address,onChange:t=>r("location_address",t.target.value)}),e.jsx(i,{message:n.location_address,className:"mt-2"})]})]}),e.jsxs("div",{className:"border-b border-plutz-tan/10 pb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-plutz-cream",children:s("inquiries.contact_information")}),e.jsxs("div",{className:"mt-4",children:[e.jsx(l,{htmlFor:"contact_person",value:s("inquiries.contact_person_field")}),e.jsx(m,{id:"contact_person",type:"text",className:"mt-1 block w-full",value:a.contact_person,onChange:t=>r("contact_person",t.target.value),required:!0}),e.jsx(i,{message:n.contact_person,className:"mt-2"})]}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"contact_email",value:s("inquiries.email")}),e.jsx(m,{id:"contact_email",type:"email",className:"mt-1 block w-full",value:a.contact_email,onChange:t=>r("contact_email",t.target.value)}),e.jsx(i,{message:n.contact_email,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"contact_phone",value:s("inquiries.phone_field")}),e.jsx(m,{id:"contact_phone",type:"tel",className:"mt-1 block w-full",value:a.contact_phone,onChange:t=>r("contact_phone",t.target.value)}),e.jsx(i,{message:n.contact_phone,className:"mt-2"})]})]})]}),!h&&e.jsxs("div",{className:"border-b border-plutz-tan/10 pb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-plutz-cream",children:s("inquiries.price")}),e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"price_amount",value:s("common.amount")}),e.jsx(m,{id:"price_amount",type:"number",step:"0.01",className:"mt-1 block w-full",value:a.price_amount,onChange:t=>r("price_amount",t.target.value)}),e.jsx(i,{message:n.price_amount,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"currency",value:s("inquiries.currency")}),e.jsx(m,{id:"currency",type:"text",className:"mt-1 block w-full",value:a.currency,onChange:t=>r("currency",t.target.value)}),e.jsx(i,{message:n.currency,className:"mt-2"})]})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"notes",value:s("common.notes")}),e.jsx("textarea",{id:"notes",className:"mt-1 block w-full rounded-md border-plutz-tan/20 shadow-sm focus:border-plutz-tan focus:ring-plutz-tan",rows:4,value:a.notes,onChange:t=>r("notes",t.target.value)}),e.jsx(i,{message:n.notes,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[e.jsx(u,{href:o?route("calendar.index",{month:o.substring(0,7)}):route("inquiries.index"),className:"text-sm text-stone-400 hover:text-plutz-cream",children:s("common.cancel")}),e.jsx(C,{disabled:g,children:s("inquiries.create_inquiry")})]})]})})})]})}export{$ as default};
